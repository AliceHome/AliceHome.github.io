<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css">


  <meta name="keywords" content="arts,">








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2">






<meta name="description" content="Algorithm题目一： 整数反转给出一个 32 位的有符号整数，你需要将这个整数中每位上的数字进行反转。 示例 1:输入: 123 输出: 321 示例 2:输入: -123 输出: -32示例 3:输入: 120 输出: 21 注意:假设我们的环境只能存储得下 32 位的有符号整数，则其数值范围为 [−231,  231 − 1]。请根据这个假设，如果反转后整数溢出那么就返回 0。  来源：">
<meta name="keywords" content="arts">
<meta property="og:type" content="article">
<meta property="og:title" content="ARTS(1)">
<meta property="og:url" content="http://yoursite.com/2020/05/25/ARTS/ARTS-1/index.html">
<meta property="og:site_name" content="Hi, this is Alice Home">
<meta property="og:description" content="Algorithm题目一： 整数反转给出一个 32 位的有符号整数，你需要将这个整数中每位上的数字进行反转。 示例 1:输入: 123 输出: 321 示例 2:输入: -123 输出: -32示例 3:输入: 120 输出: 21 注意:假设我们的环境只能存储得下 32 位的有符号整数，则其数值范围为 [−231,  231 − 1]。请根据这个假设，如果反转后整数溢出那么就返回 0。  来源：">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2020-05-30T12:25:04.774Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ARTS(1)">
<meta name="twitter:description" content="Algorithm题目一： 整数反转给出一个 32 位的有符号整数，你需要将这个整数中每位上的数字进行反转。 示例 1:输入: 123 输出: 321 示例 2:输入: -123 输出: -32示例 3:输入: 120 输出: 21 注意:假设我们的环境只能存储得下 32 位的有符号整数，则其数值范围为 [−231,  231 − 1]。请根据这个假设，如果反转后整数溢出那么就返回 0。  来源：">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2020/05/25/ARTS/ARTS-1/">





  <title>ARTS(1) | Hi, this is Alice Home</title>
  














</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

<a href="https://github.com/AliceHome" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#64CEAA; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px)
{.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hi, this is Alice Home</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br>
            
            公益404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/25/ARTS/ARTS-1/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Alice">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hi, this is Alice Home">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">ARTS(1)</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-25T19:34:09+08:00">
                2020-05-25
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/ARTS/" itemprop="url" rel="index">
                    <span itemprop="name">ARTS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h2><h3 id="题目一：-整数反转"><a href="#题目一：-整数反转" class="headerlink" title="题目一： 整数反转"></a>题目一： 整数反转</h3><p>给出一个 32 位的有符号整数，你需要将这个整数中每位上的数字进行反转。</p>
<p><strong>示例 1:</strong><br><code>输入: 123
输出: 321</code><br><strong> 示例 2:</strong><br><code>输入: -123
输出: -32</code><br><strong>示例 3:</strong><br><code>输入: 120
输出: 21</code></p>
<p><strong>注意:</strong><br>假设我们的环境只能存储得下 32 位的有符号整数，则其数值范围为 [−231,  231 − 1]。请根据这个假设，如果反转后整数溢出那么就返回 0。 </p>
<p>来源：力扣（LeetCode）<br>链接：<a href="https://leetcode-cn.com/problems/reverse-integer" target="_blank" rel="noopener">https://leetcode-cn.com/problems/reverse-integer</a></p>
<p><strong>分析</strong></p>
<p>一开始想通过移位的方式去解决，终究没有找到方法，可能对移位操作没那么熟悉的缘故。参考了评论里的一种解决方案：</p>
<ul>
<li>对 10 取余操作得到个位数</li>
<li>对 10 取整，去掉个位数字</li>
<li>将通过取余得到的数字追加到反转的后面</li>
</ul>
<p><strong>代码 - Swift</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">reverse</span><span class="params">(<span class="number">_</span> x: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> reverseNum = <span class="number">0</span></span><br><span class="line">        <span class="keyword">var</span> numbers = x</span><br><span class="line">        <span class="keyword">while</span> numbers != <span class="number">0</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> temp = numbers % <span class="number">10</span></span><br><span class="line">            numbers = numbers / <span class="number">10</span></span><br><span class="line">            reverseNum = reverseNum * <span class="number">10</span> + temp</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> reverseNum &gt; <span class="type">Int32</span>.<span class="built_in">max</span> || reverseNum &lt; <span class="type">Int32</span>.<span class="built_in">min</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> reverseNum</span><br><span class="line">         </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="题目二：-回文数"><a href="#题目二：-回文数" class="headerlink" title="题目二： 回文数"></a>题目二： 回文数</h3><p>判断一个整数是否是回文数。回文数是指正序（从左向右）和倒序（从右向左）读都是一样的整数。</p>
<p><strong>示例 1:</strong></p>
<p><code>输入: 121
输出: true</code><br><strong>示例 2:</strong></p>
<p><code>输入: -121
输出: false
解释: 从左向右读, 为 -121 。 从右向左读, 为 121- 。因此它不是一个回文数。</code><br><strong>示例 3:</strong></p>
<p><code>输入: 10
输出: false
解释: 从右向左读, 为 01 。因此它不是一个回文数。</code><br><strong>进阶:</strong></p>
<p><em>你能不将整数转为字符串来解决这个问题吗？</em></p>
<p>来源：力扣（LeetCode）<br>链接：<a href="https://leetcode-cn.com/problems/palindrome-number" target="_blank" rel="noopener">https://leetcode-cn.com/problems/palindrome-number</a></p>
<p><strong>分析：</strong><br>第一反应就是用整数反转，然后比较大小</p>
<p><strong>代码：</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">isPalindrome</span><span class="params">(<span class="number">_</span> x: Int)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> x &lt; <span class="number">0</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span> </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> reverseNumber = <span class="number">0</span></span><br><span class="line">        <span class="keyword">var</span> num = x</span><br><span class="line">        <span class="keyword">while</span> (num != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">let</span> temp = num % <span class="number">10</span></span><br><span class="line">            num = num / <span class="number">10</span></span><br><span class="line">            reverseNumber = reverseNumber * <span class="number">10</span> + temp</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> x == reverseNumber &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span> </span><br><span class="line">        &#125;<span class="keyword">else</span>  &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>方法二： 转化为字符串</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">isPalindrome</span><span class="params">(<span class="number">_</span> x: Int)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> x &lt;  <span class="number">0</span> &#123;<span class="keyword">return</span> <span class="literal">false</span>&#125;</span><br><span class="line">      <span class="keyword">let</span> numStr = <span class="string">"\(x)"</span></span><br><span class="line">      <span class="keyword">for</span>  n <span class="keyword">in</span> <span class="number">0</span>..&lt;numStr.<span class="built_in">count</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> n &gt; numStr.<span class="built_in">count</span> / <span class="number">2</span> &#123;</span><br><span class="line">              <span class="keyword">return</span> <span class="literal">true</span> </span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">if</span>  numStr[n] != numStr[numStr.<span class="built_in">count</span> - n - <span class="number">1</span>] &#123;</span><br><span class="line">              <span class="keyword">return</span> <span class="literal">false</span> </span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">String</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">subscript</span>(<span class="type">Index</span>:<span class="type">Int</span>)-&gt;<span class="type">String</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">let</span> begin=<span class="keyword">self</span>.startIndex</span><br><span class="line">        <span class="keyword">let</span> start=<span class="keyword">self</span>.index(begin, offsetBy: <span class="type">Index</span>)</span><br><span class="line">        <span class="keyword">let</span> end=<span class="keyword">self</span>.index(begin, offsetBy: <span class="type">Index</span>+<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">let</span> range: <span class="type">Range</span> = start..&lt;end</span><br><span class="line">         <span class="keyword">return</span> <span class="type">String</span>(<span class="keyword">self</span>[range])</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="题目三：寻找重复数"><a href="#题目三：寻找重复数" class="headerlink" title="题目三：寻找重复数"></a>题目三：寻找重复数</h3><p>给定一个包含 n + 1 个整数的数组 nums，其数字都在 1 到 n 之间（包括 1 和 n），可知至少存在一个重复的整数。假设只有一个重复的整数，找出这个重复的数。</p>
<p><strong>示例 1:</strong><br>输入: [1,3,4,2,2]<br>输出: 2</p>
<p><strong>示例 2:</strong><br>输入: [3,1,3,4,2]<br>输出: 3</p>
<p><strong>说明：</strong><br>不能更改原数组（假设数组是只读的）。<br>只能使用额外的 O(1) 的空间。<br>时间复杂度小于 O(n2) 。<br>数组中只有一个重复的数字，但它可能不止重复出现一次。</p>
<p>来源：力扣（LeetCode）<br>链接：<a href="https://leetcode-cn.com/problems/find-the-duplicate-number" target="_blank" rel="noopener">https://leetcode-cn.com/problems/find-the-duplicate-number</a></p>
<p><strong>分析：</strong><br>先排序，然后相邻数字对比，对比到相等就返回那个数字</p>
<p><strong>代码：</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">findDuplicate</span><span class="params">(<span class="number">_</span> nums: [Int])</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> sortedNums = nums.sorted()</span><br><span class="line">        <span class="keyword">var</span> preNum = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> curNum <span class="keyword">in</span> sortedNums &#123;</span><br><span class="line">            <span class="keyword">if</span> preNum == curNum  &#123;</span><br><span class="line">                <span class="keyword">return</span> preNum</span><br><span class="line">            &#125;</span><br><span class="line">            preNum = curNum</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="题目四：罗马数字转整数"><a href="#题目四：罗马数字转整数" class="headerlink" title="题目四：罗马数字转整数"></a>题目四：罗马数字转整数</h3><p>罗马数字包含以下七种字符: I， V， X， L，C，D 和 M。</p>
<p>字符          数值<br>I             1<br>V             5<br>X             10<br>L             50<br>C             100<br>D             500<br>M             1000<br>例如， 罗马数字 2 写做 II ，即为两个并列的 1。12 写做 XII ，即为 X + II 。 27 写做  XXVII, 即为 XX + V + II 。</p>
<p>通常情况下，罗马数字中小的数字在大的数字的右边。但也存在特例，例如 4 不写做 IIII，而是 IV。数字 1 在数字 5 的左边，所表示的数等于大数 5 减小数 1 得到的数值 4 。同样地，数字 9 表示为 IX。这个特殊的规则只适用于以下六种情况：</p>
<p>I 可以放在 V (5) 和 X (10) 的左边，来表示 4 和 9。<br>X 可以放在 L (50) 和 C (100) 的左边，来表示 40 和 90。<br>C 可以放在 D (500) 和 M (1000) 的左边，来表示 400 和 900。<br>给定一个罗马数字，将其转换成整数。输入确保在 1 到 3999 的范围内。</p>
<p><strong>示例 1:</strong><br><code>输入: &quot;III&quot;
输出: 3</code></p>
<p><strong>示例 2:</strong><br><code>输入: &quot;IV&quot;
输出: 4</code></p>
<p><strong>示例 3:</strong><br><code>输入: &quot;IX&quot;
输出: 9</code></p>
<p><strong>示例 4:</strong><br><code>输入: &quot;LVIII&quot;
输出: 58
解释: L = 50, V= 5, III = 3.</code></p>
<p><strong>示例 5:</strong><br><code>输入: &quot;MCMXCIV&quot;
输出: 1994
解释: M = 1000, CM = 900, XC = 90, IV = 4.</code></p>
<p>来源：力扣（LeetCode）<br>链接：<a href="https://leetcode-cn.com/problems/roman-to-integer" target="_blank" rel="noopener">https://leetcode-cn.com/problems/roman-to-integer</a></p>
<p><strong>分析：</strong><br>分析了一下逻辑，没有发现什么好的方案，最后通过看评论，使用了暴力破解法。自己也想过这个方法，但是考虑的条件判断不成熟（偷懒了，不想考虑暴力破解的判断了），所以就参照一个评论中的解法，相对简单的判断条件</p>
<p><strong>代码-Swift：</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">romanToInt</span><span class="params">(<span class="number">_</span> s: String)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">let</span> romanMap:[<span class="type">Character</span>: <span class="type">Int</span>] = [<span class="string">"I"</span>:<span class="number">1</span>, <span class="string">"V"</span>:<span class="number">5</span>, <span class="string">"X"</span>:<span class="number">10</span>, <span class="string">"L"</span>:<span class="number">50</span>, <span class="string">"C"</span>:<span class="number">100</span>, <span class="string">"D"</span>:<span class="number">500</span>, <span class="string">"M"</span>:<span class="number">1000</span>]</span><br><span class="line">        <span class="keyword">var</span> lastNumber = <span class="number">0</span></span><br><span class="line">        <span class="keyword">var</span> sum = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">c</span> <span class="keyword">in</span>  s &#123;</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">let</span> number = romanMap[<span class="built_in">c</span>] &#123;</span><br><span class="line">                sum += number</span><br><span class="line">                <span class="keyword">if</span> number &gt; lastNumber &#123;</span><br><span class="line">                    sum -= <span class="number">2</span> * lastNumber</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">                lastNumber = number</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> sum</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="题目五：-和可被-K-整除的子数组"><a href="#题目五：-和可被-K-整除的子数组" class="headerlink" title="题目五： 和可被 K 整除的子数组"></a>题目五： 和可被 K 整除的子数组</h3><p>给定一个整数数组 A，返回其中元素之和可被 K 整除的（连续、非空）子数组的数目。</p>
<p><strong>示例：</strong><br>输入：A = [4,5,0,-2,-3,1], K = 5<br>输出：7<br>解释：<br>有 7 个子数组满足其元素之和可被 K = 5 整除：<br>[4, 5, 0, -2, -3, 1], [5], [5, 0], [5, 0, -2, -3], [0], [0, -2, -3], [-2, -3]</p>
<p>提示：</p>
<ul>
<li>1 &lt;= A.length &lt;= 30000</li>
<li>-10000 &lt;= A[i] &lt;= 10000</li>
<li>2 &lt;= K &lt;= 10000</li>
</ul>
<p>来源：力扣（LeetCode）<br>链接：<a href="https://leetcode-cn.com/problems/subarray-sums-divisible-by-k" target="_blank" rel="noopener">https://leetcode-cn.com/problems/subarray-sums-divisible-by-k</a></p>
<p><strong>解析：</strong></p>
<p>一开始想用暴力破解法，但是由于限制了，不能通过。然后通过看官方解答，知道这了需要两个知识点：</p>
<ul>
<li>同余定理</li>
<li>前缀和 prefix sum<br>到写完这个题目，其实对于其真正解法还是没有领会，后面再看看（3 h）</li>
</ul>
<p><strong>代码-Swift:</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">subarraysDivByK</span><span class="params">(<span class="number">_</span> A: [Int], <span class="number">_</span> K: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> record = [<span class="type">Int</span>:<span class="type">Int</span>]()</span><br><span class="line">        record[<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">        <span class="keyword">var</span> sum = <span class="number">0</span></span><br><span class="line">        <span class="keyword">var</span> ans = <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> elem <span class="keyword">in</span> <span class="type">A</span> &#123;</span><br><span class="line">            sum += elem</span><br><span class="line">            <span class="keyword">let</span> modulus = (sum % <span class="type">K</span>  + <span class="type">K</span>) % <span class="type">K</span></span><br><span class="line">            <span class="keyword">let</span> same = record[modulus] ?? <span class="number">0</span></span><br><span class="line">            ans += same</span><br><span class="line">            record[modulus] = same + <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="题目六：字符串解码"><a href="#题目六：字符串解码" class="headerlink" title="题目六：字符串解码"></a>题目六：字符串解码</h3><p>给定一个经过编码的字符串，返回它解码后的字符串。</p>
<p>编码规则为: k[encoded_string]，表示其中方括号内部的 encoded_string 正好重复 k 次。注意 k 保证为正整数。</p>
<p>你可以认为输入字符串总是有效的；输入字符串中没有额外的空格，且输入的方括号总是符合格式要求的。</p>
<p>此外，你可以认为原始数据不包含数字，所有的数字只表示重复的次数 k ，例如不会出现像 3a 或 2[4] 的输入。</p>
<p>示例:<br><code>s = &quot;3[a]2[bc]&quot;, 返回 &quot;aaabcbc&quot;.
s = &quot;3[a2[c]]&quot;, 返回 &quot;accaccacc&quot;.
s = &quot;2[abc]3[cd]ef&quot;, 返回 &quot;abcabccdcdcdef&quot;.</code></p>
<p>来源：力扣（LeetCode）<br>链接：<a href="https://leetcode-cn.com/problems/decode-string" target="_blank" rel="noopener">https://leetcode-cn.com/problems/decode-string</a></p>
<p><strong>解析：</strong><br>拿到题目想到的是数据结构-栈和递归算法，奈何栈结构不熟悉，递归也不熟悉，然后就开始先写遍历，然后遇到了第一个“]” 开始回溯处理，写了一个函数，定下输入 xxxx 和 输出 xxxx，比如这个题，我用了 <strong>s = “3[a2[c]]”</strong>做例子，然后遍历字符串的时候到了 3[a2[c] 这个时候，将这个字符串作为一个函数的输入，其输出为： 3[acc,然后就去实现这样的函数，通过不断的递归条件尝试，最终实验出了这个函数。时间大约 3 h。</p>
<p><strong>代码-Swift：</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">decodeString</span><span class="params">(<span class="number">_</span> s: String)</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">var</span> tempStr = <span class="string">""</span></span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">c</span> <span class="keyword">in</span> s &#123;</span><br><span class="line">            tempStr.append(<span class="built_in">c</span>)</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">c</span> == <span class="string">"]"</span> &#123;</span><br><span class="line">                tempStr = subString(str: tempStr, ch: <span class="string">"]"</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> tempStr</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">subString</span><span class="params">(str: String,</span></span></span><br><span class="line"><span class="function"><span class="params">                   ch: Character?,</span></span></span><br><span class="line"><span class="function"><span class="params">                   strC: String? = <span class="literal">nil</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                   number: String? = <span class="literal">nil</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                   isOver: Bool = <span class="literal">false</span>)</span></span> -&gt; <span class="type">String</span>  &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>  isOver  &#123;</span><br><span class="line">            <span class="keyword">var</span> temp = <span class="string">""</span></span><br><span class="line">            <span class="keyword">guard</span> <span class="keyword">let</span> num = <span class="type">Int</span>(number ?? <span class="string">"xxx"</span>), <span class="keyword">let</span> strc_ = strC <span class="keyword">else</span> &#123;<span class="keyword">return</span> <span class="string">""</span>&#125;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">for</span> <span class="number">_</span> <span class="keyword">in</span> <span class="number">0</span>..&lt;num &#123;</span><br><span class="line">                temp = temp + strc_</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span>  str + temp</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> newStr = str</span><br><span class="line">        <span class="keyword">let</span> last = newStr.remove(at: newStr.index(before: newStr.endIndex))</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> asValue = last.asciiValue , isNumber(asciiValue: asValue)&#123;</span><br><span class="line">            <span class="keyword">guard</span> <span class="keyword">let</span> n = last.wholeNumberValue <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">""</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">var</span> num: <span class="type">String</span> = <span class="string">"\(n)"</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">let</span> n_ = number &#123;</span><br><span class="line">                <span class="keyword">let</span> newN = <span class="string">"\(n)"</span> + <span class="string">"\(n_)"</span></span><br><span class="line">                num = newN</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> newStr.last == <span class="literal">nil</span> || newStr.<span class="built_in">count</span> == <span class="number">0</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> subString(str: newStr, ch: last, strC: strC, number: num, isOver:  <span class="literal">true</span>)</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> <span class="keyword">let</span> last_ = newStr.last?.asciiValue ,!isNumber(asciiValue: last_) &#123;</span><br><span class="line">                <span class="keyword">return</span> subString(str: newStr, ch: last, strC: strC, number: num, isOver:  <span class="literal">true</span>)</span><br><span class="line">                </span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> subString(str: newStr, ch: last, strC: strC, number: num)</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> <span class="keyword">let</span> asValue = last.asciiValue , isAlphabet(asciiValue: asValue) &#123;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// 字符串后，继续遍历</span></span><br><span class="line">            <span class="keyword">var</span> s = <span class="string">""</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">let</span> s_ = strC &#123;</span><br><span class="line">                s = s_</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span>  subString(str: newStr, ch: last, strC: <span class="string">"\(last)"</span> + s)</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 其他字符，直接丢弃（这里主要是 [ 、]）</span></span><br><span class="line">            <span class="keyword">return</span>  subString(str: newStr, ch: last, strC:  strC)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">isNumber</span><span class="params">(asciiValue: UInt8)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> asciiValue &gt;= <span class="number">48</span> &amp;&amp; asciiValue &lt;= <span class="number">57</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">isAlphabet</span><span class="params">(asciiValue: UInt8)</span></span> -&gt; <span class="type">Bool</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (asciiValue &gt;= <span class="number">97</span> &amp;&amp; asciiValue &lt;= <span class="number">122</span>)  || (asciiValue &gt;= <span class="number">65</span> &amp;&amp; asciiValue &lt;= <span class="number">90</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="题目七：-打家劫舍"><a href="#题目七：-打家劫舍" class="headerlink" title="题目七： 打家劫舍"></a>题目七： 打家劫舍</h3><p>你是一个专业的小偷，计划偷窃沿街的房屋。每间房内都藏有一定的现金，影响你偷窃的唯一制约因素就是相邻的房屋装有相互连通的防盗系统，如果两间相邻的房屋在同一晚上被小偷闯入，系统会自动报警。</p>
<p>给定一个代表每个房屋存放金额的非负整数数组，计算你 不触动警报装置的情况下 ，一夜之内能够偷窃到的最高金额。</p>
<p><strong>示例 1:</strong><br>输入: [1,2,3,1]<br>输出: 4<br>解释: 偷窃 1 号房屋 (金额 = 1) ，然后偷窃 3 号房屋 (金额 = 3)。<br>     偷窃到的最高金额 = 1 + 3 = 4 。</p>
<p><strong>示例 2:</strong><br>输入: [2,7,9,3,1]<br>输出: 12<br>解释: 偷窃 1 号房屋 (金额 = 2), 偷窃 3 号房屋 (金额 = 9)，接着偷窃 5 号房屋 (金额 = 1)。<br>     偷窃到的最高金额 = 2 + 9 + 1 = 12 。</p>
<p>来源：力扣（LeetCode）<br>链接：<a href="https://leetcode-cn.com/problems/house-robber" target="_blank" rel="noopener">https://leetcode-cn.com/problems/house-robber</a></p>
<p><strong>分析：</strong><br>这到期没解出来，有关动态规划和数组滚动问题</p>
<p><strong>代码-Swift：</strong><br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">rob</span><span class="params">(<span class="number">_</span> nums: [Int])</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> prev = <span class="number">0</span></span><br><span class="line">        <span class="keyword">var</span> curr = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> nums &#123;</span><br><span class="line">            <span class="keyword">let</span> tmp = curr</span><br><span class="line">            curr = <span class="built_in">max</span>(prev + i, curr)</span><br><span class="line">            prev = tmp</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> curr</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="题目八：-合并排序的数组"><a href="#题目八：-合并排序的数组" class="headerlink" title="题目八： 合并排序的数组"></a>题目八： 合并排序的数组</h3><p>给定两个排序后的数组 A 和 B，其中 A 的末端有足够的缓冲空间容纳 B。 编写一个方法，将 B 合并入 A 并排序。</p>
<p>初始化 A 和 B 的元素数量分别为 m 和 n。</p>
<p><strong>示例:</strong></p>
<p>输入:<br>A = [1,2,3,0,0,0], m = 3<br>B = [2,5,6],       n = 3</p>
<p>输出: [1,2,2,3,5,6]<br>说明:</p>
<p>A.length == n + m</p>
<p>来源：力扣（LeetCode）<br>链接：<a href="https://leetcode-cn.com/problems/sorted-merge-lcci" target="_blank" rel="noopener">https://leetcode-cn.com/problems/sorted-merge-lcci</a></p>
<p><strong>分析：</strong><br>将 B 数组追加到  A 数组后面，然后整体排序，提交之后竟然过了！看到还有双指针的方法，后面试试吧</p>
<p><strong>代码-Swift</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">merge</span><span class="params">(<span class="number">_</span> A: <span class="keyword">inout</span> [Int], <span class="number">_</span> m: Int, <span class="number">_</span> B: [Int], <span class="number">_</span> n: Int)</span></span> &#123;</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;n &#123;</span><br><span class="line">            <span class="type">A</span>[m + i] = <span class="type">B</span>[i]</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="type">A</span>.<span class="built_in">sort</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Review"><a href="#Review" class="headerlink" title="Review"></a>Review</h2><p><a href="https://nshipster.com/hashable/" target="_blank" rel="noopener">Hashable\Hasher</a></p>
<p><em>When you make a Genius Bar reservation at an Apple Store, you’re instructed to show up at a particular time of day and check in with the concierge. After directing you to pull up at a  stool, the concierge adds you to the queue and makes a note about how to identify you.</em></p>
<p><em>According to anonymous reports from former retail employee, there are strict guidelines about how customers can be described. Nothing about their physical appearance is used: age, gender, ethnicity, height – not even that hair color. Instead, all customers are described by their clothing, as in “Person with black turtleneck, jeans, and glasses”.</em> </p>
<p><em>This practice of describing customers has a lot in common with a hashing function in programming. Like any good hashing function, it’s consistent and easy to compute, and can be used to quickly find what (or who) you’re looking for. Much better than a queue, I think you’ll agree!</em></p>
<p><em>Our topic this week is Hasable and its new related type, Hasher . Together, they comprise the functionality underlying two of Swift’s most beloved collection classes: Dictionary and Set.</em></p>
<p><em>Let’s say you have a list of objects that can be compared for equality with one another. To find a particular object in that list, you iterate all the elements until you find a match. As you add more elements to the array, the average amount of time necessary to find any one of them increases linearly(O(n)).</em></p>
<p><em>If you instead store those objects in a set, you can theoretically find any one of them in constant time(O(1)) – that is, a lookup on a set with 10 elements takes the same amount of time as a lookup on a set with 10, 000. How does this work? Instead of storing objects sequentially, a set computes a hash as an index based on the contents of the object. When you perform a lookup of an object in a set, you use the same function to compute a new has and look for the object there.</em></p>
<p><em>Two objects produce a has collision when they have the same has value but aren’t equal. When a collision occurs on insertion, they’re stored in a list at that address. The higher the rate of collision between objects, the more linear the performance of a hash collection becomes.</em></p>
<p><strong>Hashable</strong><br><em>In Swift， Array provides the standard interface for lists and Set for sets. In order for an object to be stored in a Set, its type must conform to Hashable(any by extension, Equatable). Swift’s standard map interface, Dictionary has a similar constraint on its associated Key type.</em></p>
<p><em>In previous versions of the language, it took quite a bit of boilerplate code to satisfy the requirements for storing a custom type in a Set or Dictionary.</em></p>
<p><em>Consider the following Color type, which represents a color using 8-bit values for red, green, and blue intensity:</em></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Color</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> red: <span class="type">UInt8</span></span><br><span class="line">    <span class="keyword">let</span> green: <span class="type">UInt8</span></span><br><span class="line">    <span class="keyword">let</span> blue: <span class="type">UInt8</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>To conform to Equatable, you had to provide an implementation for the == operator. To conform to Hashable, you had to provide an implementation of the computed hasValue property:</em></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Swift &lt; 4.1</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Color</span>: <span class="title">Equatable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> == <span class="params">(lhs: Color, rhs: Color)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> lhs.red == rhs.red &amp;&amp;</span><br><span class="line">                lhs.green == rhs.green &amp;&amp;</span><br><span class="line">                lhs.blue == rhs.blue</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Color</span>: <span class="title">Hashable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> hashValue: <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.red.hashValue ^ <span class="keyword">self</span>.green.hashValue ^ <span class="keyword">self</span>.blue.hashValue</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>For most developers, implementing Hashable was a speed bump on the way to getting real work done, so they’re simple XOR over all the stored properties and call it  a day.</em></p>
<p><em>One downside to this approach is its high rate of hash collisions. Because XOR is commutative, colors as different as cyan and yellow produce a hash collision:</em></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Swift &lt; 4.2</span></span><br><span class="line"><span class="keyword">let</span> cyan = <span class="type">Color</span>(red: <span class="number">0x00</span>, green: <span class="number">0xFF</span>, blue: <span class="number">0xFF</span>)</span><br><span class="line"><span class="keyword">let</span> yellow = <span class="type">Color</span>(red: <span class="number">0xFF</span>, green: <span class="number">0xFF</span>, blue: <span class="number">0x00</span>)</span><br><span class="line"></span><br><span class="line">cyan.hashValue == yellow.hashValue <span class="comment">// true, collision</span></span><br></pre></td></tr></table></figure>
<p><em>Most of the time, this isn’t a problem; modern computers are so powerful that you have to get a lot of implementation detail wrong in order to notice any decrease in performance.</em></p>
<p><em>But that’s not to say that detail don’t matter – they often matter immensely. More on that later.</em></p>
<p><strong>Automatic Synthesis of Hashable Conformance</strong></p>
<p><em>As of Swift4.1, the compiler automatically synthesizes conformance to the Equatable and Hashable protocols for types that adopt these protocols in their declaration if their members also conform to those protocols.</em></p>
<p><em>In addition to being a huge boost to developer productivity, this can drastically reduce the size of a codebase. For instance, our Color example from before - is now 1/3 of its original size:</em></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Swift &gt;= 4.1</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Color</span>: <span class="title">Hashable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> red: <span class="type">UInt8</span></span><br><span class="line">    <span class="keyword">let</span> green: <span class="type">UInt8</span></span><br><span class="line">    <span class="keyword">let</span> blue: <span class="type">UInt8</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>Despite these unambiguous improvements to the language, there was still a lingering question about some of the implementation details.</em></p>
<p><em>In his Swift Evolution proposal SE-0815: Synthesizing Equatable and Hashable conformance, Tony Allevato offered this note about hashing functions:</em><br><code>The choice of hash function is left as an implementation detail, not a fixed part of the design; as such, users should not depend on specific characteristics of its behavior. The most likely implementation would call the standard library&#39;s _mixInt function on each member&#39;s hash value and then combine them with exclusive - or (^), which mirrors the way Collection types are hashed today.</code></p>
<p><em>Fortunately, it didn’t take long for Swift to settle on hash function. We got our answer in the very next release:</em></p>
<p><strong>Hasher</strong></p>
<p><em>Swift 4.2 refines Hashable even further by introducing the Hasher type and adopting a new universal hashing functions.</em></p>
<p><em>From the Swift Evolution proposal, SE-0206: Hashable Enhancements:</em></p>
<p><code>With a good hash function, simple lookups,  insertions and removals take constant time on average. However, when the hash function isn&#39;t carefully chosen to suit the data, the expected time of such operations can become proportional to eh number of elements sorted in the table.</code></p>
<p><em>As Karoy Lorentey and Vincent Esche note, the main draw of hash-based collection like Set and Dictionary is their ability to look up values in constant time. If the hash function doesn’t produce an event distribution of values, these collections effectively become linked lists.</em></p>
<p><em>Swift 4.2 implements hashing based on the SipHash family of pseudorandom functions, specifically SipHash-1-3 and SipHash-2-4, with 1 or 2 rounds of hashing  per message block and 3 or 4 rounds of finalization, respectively.</em></p>
<p><em>Now if you want to customize how your type implememnts Hashable, you can override the hash(into:) method instead of hashValue. The hash(into:) method passes a Hasher object by reference, which you call combine(_:) on to add the essential state information of your type.</em></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Swift </span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Color</span>: <span class="title">Hashable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> red: <span class="type">UInt8</span></span><br><span class="line">    <span class="keyword">let</span> green: <span class="type">UInt8</span></span><br><span class="line">    <span class="keyword">let</span> blue: <span class="type">UInt8</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Synthesized by compiler</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">hash</span><span class="params">(into hasher: <span class="keyword">inout</span> Hasher)</span></span> &#123;</span><br><span class="line">        hasher.combine(<span class="keyword">self</span>.red)</span><br><span class="line">        hasher.combine(<span class="keyword">self</span>.green)</span><br><span class="line">        hasher.combine(<span class="keyword">self</span>.blue)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//Default implementation from protocol extension</span></span><br><span class="line">    <span class="keyword">var</span> hashValue: <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> hasher = <span class="type">Hasher</span>()</span><br><span class="line">        <span class="keyword">self</span>.hash(into: &amp;hasher)</span><br><span class="line">        <span class="keyword">return</span> hasher.finalize()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>By abstracting away low-level bit manipulation details, developers automatically take advantage of Swift’s built-in hashing function, which has the extra benefit of not reproducing the collisions we had with ourt original XOR-based implementation:</em></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Swift &gt;= 4.2</span></span><br><span class="line"><span class="keyword">let</span> cyan = <span class="type">Color</span>(red: <span class="number">0x00</span>, green: <span class="number">0xFF</span>, blue: <span class="number">0xFF</span>)</span><br><span class="line"><span class="keyword">let</span> yellow = <span class="type">Color</span>(red: <span class="number">0xFF</span>, green: <span class="number">0xFF</span>, blue: <span class="number">0x00</span>)</span><br><span class="line"></span><br><span class="line">cyan.hashValue == yellow.hashValue <span class="comment">// false, no collision</span></span><br></pre></td></tr></table></figure>
<p><strong>Customizing Hash Function</strong></p>
<p><em>By default, Swift uses a universal hash function that reduces a sequence of bytes to a single integer.</em></p>
<p>However, you can improve on this by tailoring your hash function on your domain. For example, if you were writing a program to play a board game like chess or go, you might implement Zobrist hashing to quickly store the game state.</p>
<p><strong>Guarding Against Hash-Flooding</strong></p>
<p>Selecting  a cryptographic algorithm like SipHash helps protect against hash-flooding Dos attacks, which deliberately try to generate hash collisions in an attempt to enforce the worst case of hashing data structures and cause a program to slow to halt. This caused a bunch of problems for the web in the early 2010’s.</p>
<blockquote>
<p>You shouldn’t rely on specific hash values or save them access executions. On the rare occasion that you would need deterministic behavior, you can set the flat SWIFT_DETERMINISTIC_HASHING to disable random hash seeds.</p>
</blockquote>
<p><em>The challenge of programming analogies is they normalize antisocial behavior by way of edge case.</em></p>
<p><em>We excel as software engineers when we can think through all the ways that an attacker might leverage a particular behavior to some sinister end - as in the case of hash-flooding  DoS attacks. But by doing  so, we risk failing as humans when we apply that knowledge AFK.</em></p>
<p><em>That is to say… I’m not in any way encouraging you, dear reader, to coordinate outfits with your besties the next time you visit your local Apple retailer in an attempt to sow confusion and discord among Geniuses.</em></p>
<p><em>Please don’t. </em></p>
<p><em>Instead, please let your takeaway be this:</em></p>
<p><em>If you’re waiting at the Genius Bar, stay away from anyone wearing the same color shirt as you. It’ll make thing a lot easier for everyone.</em></p>
<h2 id="Tip"><a href="#Tip" class="headerlink" title="Tip"></a>Tip</h2><p><strong>Out of Memory</strong><br>本来想写内存检测的，但是感觉知识太深，还是从简单的开始吧！查了一些 ARTS 的文章，感觉没有什么好参考的，有几篇看上去像敷衍一样，还是自己写算了。<br>作为一个 iOS RD，那就从 Swift Tips 中选取一个吧！</p>
<h3 id="柯里化-Currying"><a href="#柯里化-Currying" class="headerlink" title="柯里化 (Currying)"></a>柯里化 (Currying)</h3><p> 参考：<a href="https://www.jianshu.com/p/b3195e0c68a7" target="_blank" rel="noopener">https://www.jianshu.com/p/b3195e0c68a7</a></p>

      
    </div>
    
    
    

    <div>
      
        <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------本文结束<i class="fa fa-paw"></i>谢谢欣赏-------------</div>
    
</div>

 
      
    </div>
    
      <div>
        <div id="wechat_subscriber" style="display: block; padding: 10px 0; margin: 20px auto; width: 100%; text-align: center">
    <img id="wechat_subscriber_qcode" src="/uploads/WechatIMG13.jpeg" alt="Alice wechat" style="width: 200px; max-width: 100%;">
    <div></div>
</div>

      </div>
    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/arts/" rel="tag"># arts</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/03/14/Chapter-01-计算机系统漫游/" rel="next" title="Chapter 01 计算机系统漫游">
                <i class="fa fa-chevron-left"></i> Chapter 01 计算机系统漫游
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/05/25/ARTS/ARTS-记录/" rel="prev" title="ARTS 记录">
                ARTS 记录 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/images/avatar.gif" alt="Alice">
          <p class="site-author-name" itemprop="name">Alice</p>
           
              <p class="site-description motion-element" itemprop="description">The Loneliest Whale in the World</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">116</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">35</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">29</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Algorithm"><span class="nav-number">1.</span> <span class="nav-text">Algorithm</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#题目一：-整数反转"><span class="nav-number">1.1.</span> <span class="nav-text">题目一： 整数反转</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#题目二：-回文数"><span class="nav-number">1.2.</span> <span class="nav-text">题目二： 回文数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#题目三：寻找重复数"><span class="nav-number">1.3.</span> <span class="nav-text">题目三：寻找重复数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#题目四：罗马数字转整数"><span class="nav-number">1.4.</span> <span class="nav-text">题目四：罗马数字转整数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#题目五：-和可被-K-整除的子数组"><span class="nav-number">1.5.</span> <span class="nav-text">题目五： 和可被 K 整除的子数组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#题目六：字符串解码"><span class="nav-number">1.6.</span> <span class="nav-text">题目六：字符串解码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#题目七：-打家劫舍"><span class="nav-number">1.7.</span> <span class="nav-text">题目七： 打家劫舍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#题目八：-合并排序的数组"><span class="nav-number">1.8.</span> <span class="nav-text">题目八： 合并排序的数组</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Review"><span class="nav-number">2.</span> <span class="nav-text">Review</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Tip"><span class="nav-number">3.</span> <span class="nav-text">Tip</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#柯里化-Currying"><span class="nav-number">3.1.</span> <span class="nav-text">柯里化 (Currying)</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Alice</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  





  

  

  

  

  

  


</body>
</html>
